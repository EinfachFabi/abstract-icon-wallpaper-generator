/* General Body/HTML Settings */
body,
html {
  margin: 0;
  padding: 0;
  overflow: hidden; /* Prevents scroll bars */
  width: 100%;
  height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  color: #f8f8f2; /* Monokai Light Gray */
  display: flex; /* For layout of the panel and container */
  background-color: #1a1b15; /* Slightly darker background for the area outside the canvas */
}

/* IMPORTANT: Hide the text before the Font Awesome font is loaded
  to prevent “Flash of Unstyled Text” (FOUT), where
  square boxes appear briefly instead of the icons.
*/
.fa,
.fas,
.fab {
  font-family: 'Font Awesome 5 Free' !important;
  font-weight: 900;
  visibility: hidden; /* Becomes visible via JS when fonts are loaded */
}

.fonts-loaded .fa,
.fonts-loaded .fas,
.fonts-loaded .fab {
  visibility: visible;
}

/* --- UI-Panel Styling --- */
#settings-panel {
  flex-shrink: 0; /* Prevents the panel from becoming smaller */
  width: 320px; /* Fixed width for the panel */
  background-color: rgba(45, 46, 39, 0.98);
  padding: 20px;
  box-shadow: 2px 0 15px rgba(0, 0, 0, 0.3);
  max-height: 100vh; /* Maximum height of the viewport */
  overflow-y: auto; /* Scrollbar when content becomes too long */
  box-sizing: border-box; /* Include padding in the width */
}

#settings-panel h1 {
  margin-top: 0;
  color: #f92672; /* Monokai Pink */
  font-size: 1.5em;
  border-bottom: 1px solid #49483e;
  padding-bottom: 10px;
  margin-bottom: 20px;
}

/* Headers for setting groups */
.setting-group-header {
  font-size: 1.1em;
  color: #66d9ef; /* Monokai Blue */
  border-bottom: 1px solid #49483e;
  padding-bottom: 5px;
  margin-top: 25px;
  margin-bottom: 15px;
}
.setting-group-header:first-of-type {
  margin-top: 0;
}

.setting-group {
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
}

.setting-group label {
  font-weight: bold;
  margin-bottom: 5px;
  color: #e6db74; /* Monokai Yellow */
  font-size: 0.9em;
  line-height: 1.3;
}

.setting-group input[type='number'],
.setting-group input[type='range'] {
  width: calc(100% - 10px);
  padding: 8px;
  border: 1px solid #49483e;
  border-radius: 4px;
  background-color: #3b3a32;
  color: #f8f8f2;
  font-size: 0.9em;
  -webkit-appearance: none;
  appearance: none;
}

.setting-group input[type='range'] {
  height: 8px;
  cursor: pointer;
  margin-top: 5px;
}

/* Range-Input Thumb Styling */
input[type='range']::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #a6e22e; /* Monokai Green */
  cursor: pointer;
  margin-top: -5px;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
}

input[type='range']::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #a6e22e;
  cursor: pointer;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
}

/* Range-Input Track Styling */
input[type='range']::-webkit-slider-runnable-track {
  width: 100%;
  height: 8px;
  background: #49483e;
  border-radius: 4px;
}

input[type='range']::-moz-range-track {
  width: 100%;
  height: 8px;
  background: #49483e;
  border-radius: 4px;
}

/* Span-displays for the percentages/values of the controllers */
.setting-group span {
  margin-top: 5px;
  font-size: 0.8em;
  color: #66d9ef; /* Monokai Blue */
  text-align: right;
  display: block;
}

#settings-panel button {
  display: block;
  width: 100%;
  padding: 10px 15px;
  margin-top: 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
  font-size: 1em;
  transition: background-color 0.2s ease;
}

#applySettings {
  background-color: #f92672; /* Monokai Pink */
  color: #f8f8f2;
}

#applySettings:hover {
  background-color: #e21c60;
}

#downloadImage {
  background-color: #a6e22e; /* Monokai Green */
  color: #272822;
  margin-top: 10px;
}

#downloadImage:hover {
  background-color: #8cc425;
}

/* --- Canvas-Container Styling --- */
#canvas-container {
  flex-grow: 1; /* Takes up the remaining space */
  display: flex;
  justify-content: center; /* Centers the canvas horizontally */
  align-items: center; /* Centers the canvas vertical */
  padding: 20px;
  box-sizing: border-box;
  background-color: #272822; /* Monokai background color for the container */
  overflow: hidden; /* Prevents scroll bars when canvas is larger than container */

  /* Fixed size for preview */
  width: calc(100vw - 360px); /* 100% Width - Panel width - Padding */
  height: calc(100vh - 40px); /* 100% Height - Padding */
}

#bg-canvas {
  display: block;
  max-width: 100%; /* Scales the canvas to the maximum width of the container */
  max-height: 100%; /* Scales the canvas to the maximum height of the container */
  width: auto; /* Important for scaling */
  height: auto; /* Important for scaling */
  object-fit: contain; /* Ensures that the aspect ratio is maintained */
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* Beautiful shade */
  border: 1px solid #49483e; /* Discreet frame */
}

